main_collective = mcollective
collectives = mcollective
libdir = /usr/libexec/mcollective
logfile = /var/log/mcollective.log
classesfile = /var/lib/puppet/classes.txt
loglevel = info
daemonize = 1
# Improves the Mcollective messaging. Needed to run the mco puppet runall
direct_addressing = 1

# Plugins
securityprovider = psk
plugin.psk = <%= @psk %>

#connector = stomp
#plugin.stomp.host = <%= @stomphost %>
#plugin.stomp.port = 61613
#plugin.stomp.user = mcollective
#plugin.stomp.password = <%= @stomppassword %>

connector = activemq
plugin.activemq.pool.size = 1
plugin.activemq.pool.1.host = <%= @stomphost %>
plugin.activemq.pool.1.port = 61613
plugin.activemq.pool.1.user = mcollective
plugin.activemq.pool.1.password = <%= @stomppassword %>

# We can easliy add more servers... (change the pool.size as well)
#plugin.activemq.pool.2.host = server2
#plugin.activemq.pool.2.port = 61613
#plugin.activemq.pool.2.user = user
#plugin.activemq.pool.2.password = passwoed

plugin.puppet.command = puppet agent
plugin.puppet.splay = true
plugin.puppet.splaylimit = 30
plugin.puppet.config = /etc/puppet/puppet.conf
plugin.puppet.resource_allow_managed_resources = false


# Facts
#factsource = yaml
#plugin.yaml = /etc/mcollective/facts.yaml
factsource = facter
fact_cache_time = 200

